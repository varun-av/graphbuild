(this.webpackJsonpgrapher=this.webpackJsonpgrapher||[]).push([[0],{245:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAE2ElEQVRYCa1XSUhkRxj+u7XdddrtYBTcyLiCWwQdUYggguBhECSeNF6MByeCyrhgBCOYCcklHpxjAsqgl7kpQYxKdEAHFQVhSFxRL+4K7tv8X9lVea/t59Km4L369/+v6r++V22iB46oqKhnbFpwfX2dazKZUniOYN7q6upq6u/vN0dHR4tIk5OTPxQXF/+2uLi4LwT3vFzu0RMnfu7v7/8z2/3OzzecPJXnL3j24sfMhZiOj48pLy+PxURc0NddXV3f+/n5RbHfp93d3W2hMHgZFhAWFuYZGBj4Eyf5g32/4sdiEIN4tVRWVkZubm7k7e1N6+vrlrm5uRS2/85qtT7z8fH5++Dg4MKRv9mRkFf9JQf7yMlrWG+YWPqenJzQyMiIZKmoqEjSFsRALMSUQu18q4Dw8HBs8Qd+ErSG99FjY2PKJCUlhQICAhTPBGJ9sMXWyklXAKp0cXH5ky2CdFYPYGZnZ5WV2Wym1FSsQzeCENt+J1QB+M3Z/D0/j06ONAsLC3R1dQVSjJiYGElqZ8R+b8tF3MDfqgIsFsuPrHzUtmsjn56e0vb2fw0fEhKiVWvpBOTi5GksfCsK4G15zs3ySmvlDL2zs6Pc+Bgq2p7gpnzFR7eH5W5yB14zc2+32wey54+OjpSI8UDR9kR5ebnF09MzGnIzrx4IV2Jv5Ayv7YGzszOHIfj3p6qqKqn7iB0o4AcN+OQBEJJjf98xEre0tBCvnoCeDQ0NbwGludLpqXNoaKgKsbGxoWhJ5OfnU27uTbr29nbq6enJNHPzATKfPND1vr6+Ks7a2pqiQWB3mpubhWxoaIi6u7sJubEDEUL6xFdCgv4ELy0t6SJWV1cTisRJqa+vFzrkRg9YdZZOMsnJycoTzTg/P6/4+Ph4Ki0tFXxjYyNtbW1JnRUF/C8jLQ24cjOWl5dJHknAcltbGzEMU29vLw0MDEgzMaOAPZ3ECcbDw4O0OzAzM6OilJSUUFJSEq2srIhClOKG2EMTLtsJH81i9bgLyDE1NSXI4OBgqq2tpcvLS6qpqaHDw0NpImbkRhNO66ROMFlZWTqviYkJwTc1NREgubOzk6anb6dBbuzAXzpvJ5js7GzlhfOPBkRRhYWFhM90R0eH0msJ5EYP9PFzrFU8hg4KCqK4uDjlMjo6Su7u7tTa2irQDlt/ceHwNoacfWbb7fWdivBIAqvnlSgvgExlZSVFREQQ0A73RYPxDrnlMXzDRucGhneKc3JylB4foNXVVaqoqKDh4WGBdkqpJ5ALOUmVHhkZ+QuvpEZvdzeHMz4+Pq7uf4ODg+Tl5UW4DRUUFNDm5qbDANx8vzJS1kIpd4DOz88B1HMOPQyEiYmJKjlMADaZmZkEtDNKzmZztlwiqiqAPx5oipf8KJwUFne8tNvPq6L09HSHaKcJgdgvbbmEWBUAjpviXwaNfCYfVIS2ADQi7oSAXYOxhdjIodXrCoCCIRMw9oKfO38OfHoBsXIYoZ1Nj1gvbLGli5hvFQApquSOTkezMOvwdGRkZOB/oAiCb39dXR1JCBbCm9c5YiCW/cqljToFUmA/48bMMlxacW9UV7fY2FhxuwHE4iRo74Nsh34CtrzhxP/wbDjuLUB62i6vt/6e2/R73APLvNppngHtfZzY8aVQBrTNnwEZB7fBrh1nqgAAAABJRU5ErkJggg=="},289:function(t,e,a){t.exports=a(545)},294:function(t,e,a){},300:function(t,e){},302:function(t,e){},544:function(t,e,a){},545:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),s=a(244),i=a.n(s),o=(a(294),a(11)),c=a(10),l=a(8),h=a(23),p=a(24),d=a(18),u=a(26),g=a(25),m=a(31),v=a(32),f=a(245),y=a.n(f),b=function(t){Object(u.a)(a,t);var e=Object(g.a)(a);function a(t){var r;return Object(h.a)(this,a),(r=e.call(this,t)).changeTheme=function(t){"light"===r.state.theme?(document.documentElement.style.setProperty("--text-primary","#b6b6b6"),document.documentElement.style.setProperty("--text-secondary","#ececec"),document.documentElement.style.setProperty("--bg-primary","#23232e"),document.documentElement.style.setProperty("--bg-secondary","#141418")):"dark"===r.state.theme&&(document.documentElement.style.setProperty("--text-primary","#1f1f1f"),document.documentElement.style.setProperty("--text-secondary","#000000"),document.documentElement.style.setProperty("--bg-primary","#ffffff"),document.documentElement.style.setProperty("--bg-secondary","#e4e4e4")),r.setState({theme:"light"==r.state.theme?"dark":"light"})},r.graphChange=function(t){"lineGraph"===t.target.id?(r.setState({graphMode:"line",lineActive:"active",barActive:"",areaActive:"",scatterActive:""}),r.props.updateGraphMode("line")):"barGraph"===t.target.id?(r.setState({graphMode:"bar",lineActive:"",barActive:"active",areaActive:"",scatterActive:""}),r.props.updateGraphMode("bar")):"areaGraph"===t.target.id?(r.setState({graphMode:"area",lineActive:"",barActive:"",areaActive:"active",scatterActive:""}),r.props.updateGraphMode("area")):"scatterGraph"==t.target.id&&(r.setState({graphMode:"scatter",lineActive:"",barActive:"",areaActive:"",scatterActive:"active"}),r.props.updateGraphMode("scatter"))},r.state={graphMode:"line",lineActive:"active",barActive:"",areaActive:"",scatterActive:"",theme:"light"},r}return Object(p.a)(a,[{key:"render",value:function(){return n.a.createElement("nav",{className:"navbar"},n.a.createElement("ul",{className:"navbar-nav"},n.a.createElement("li",{className:"nav-item brand"},n.a.createElement("a",{href:"#",className:"nav-link"},n.a.createElement("img",{style:{marginLeft:"1.5rem"},src:y.a}),n.a.createElement("span",{className:"link-text"},"Varun"))),n.a.createElement("hr",null),n.a.createElement("li",{className:"nav-item "+this.state.lineActive},n.a.createElement("div",{className:"nav-link",onClick:this.graphChange,id:"lineGraph"},n.a.createElement(m.a,{icon:v.d,size:"lg",color:"orange",id:"lineGraph",style:{"pointer-events":"none"}}),n.a.createElement("span",{className:"link-text",id:"lineGraph",style:{"pointer-events":"none"}},"Line plot"))),n.a.createElement("li",{className:"nav-item "+this.state.scatterActive},n.a.createElement("div",{className:"nav-link",onClick:this.graphChange,id:"scatterGraph"},n.a.createElement(m.a,{icon:v.b,size:"2x",color:"orange",id:"scatterGraph",style:{"pointer-events":"none"}}),n.a.createElement("span",{className:"link-text",id:"ScatterGraph",style:{"pointer-events":"none"}},"Scatter plot"))),n.a.createElement("li",{className:"nav-item "+this.state.areaActive},n.a.createElement("div",{className:"nav-link",onClick:this.graphChange,id:"areaGraph"},n.a.createElement(m.a,{icon:v.c,size:"lg",color:"orange",id:"areaGraph",style:{"pointer-events":"none"}}),n.a.createElement("span",{className:"link-text",id:"areaGraph",style:{"pointer-events":"none"}},"Area chart"))),n.a.createElement("li",{className:"nav-item"},n.a.createElement("div",{className:"nav-link",onClick:this.changeTheme,id:"theme"},"light"===this.state.theme?n.a.createElement(m.a,{icon:v.g,size:"lg",color:"orange",id:"theme",style:{"pointer-events":"none"}}):n.a.createElement(m.a,{icon:v.e,size:"lg",id:"theme",style:{"pointer-events":"none"}}),n.a.createElement("span",{className:"link-text",id:"theme",style:{"pointer-events":"none"}},"Change theme")))))}}]),a}(r.Component),x=a(246),A=a(248),O=function(t){Object(u.a)(a,t);var e=Object(g.a)(a);function a(t){var r;return Object(h.a)(this,a),(r=e.call(this,t)).handleClick=function(){r.setState({displayColorPicker:!r.state.displayColorPicker})},r.handleClose=function(){r.setState({displayColorPicker:!1})},r.handleChangeComplete=function(t){console.log(t),r.setState({color:t.hex,displayColorPicker:!1})},r.state={data:r.props.data,id:r.props.id,x:r.props.graphData.x,y:r.props.graphData.y,xData:r.props.xData,yData:r.props.yData,name:"",displayColorPicker:!1,color:r.props.graphData.color?r.props.graphData.color:"#f44336",graphMode:r.props.graphMode,graphName:r.props.graphName?r.props.graphName:r.props.defaultName,graphData:r.props.graphData},r.remove=r.remove.bind(Object(d.a)(r)),r.handleChange=r.handleChange.bind(Object(d.a)(r)),r.submit=r.submit.bind(Object(d.a)(r)),r}return Object(p.a)(a,[{key:"componentWillReceiveProps",value:function(t){this.setState({data:t.data,id:t.id,graphMode:t.graphMode,graphData:t.graphData,xData:t.xData,yData:t.yData,x:t.graphData.x,y:t.graphData.y})}},{key:"remove",value:function(){this.props.remove(this.state.id,this.state.x,this.state.y,this.state.xData,this.state.graphName,this.state.graphMode)}},{key:"handleChange",value:function(t){this.setState(Object(o.a)({},t.target.name,t.target.value))}},{key:"submit",value:function(t){console.log("submit",this.state.x),this.setState({xData:Object(o.a)({},this.state.graphMode,this.state.data[this.state.x]),yData:Object(o.a)({},this.state.graphMode,this.state.data[this.state.y])}),this.props.getXY(Object(o.a)({},this.state.graphMode,this.state.id),Object(o.a)({},this.state.graphMode,this.state.x),Object(o.a)({},this.state.graphMode,this.state.y),Object(o.a)({},this.state.graphMode,this.state.data[this.state.x]),Object(o.a)({},this.state.graphMode,this.state.data[this.state.y]),Object(o.a)({},this.state.graphMode,this.state.color),this.state.graphMode,Object(o.a)({},this.state.graphMode,this.state.graphName))}},{key:"render",value:function(){var t=this;return n.a.createElement(n.a.Fragment,null,this.state.data?n.a.createElement("div",{className:"panelItem"},n.a.createElement("button",{style:{borderRadius:"50%",background:"".concat(this.state.color),float:"left",height:"1.5rem",width:"1.5rem"},onClick:this.handleClick},n.a.createElement("span",{style:{display:"none"}},"T")),this.state.displayColorPicker?n.a.createElement("div",{style:{position:"absolute",zIndex:"5",backgroundColor:"rgba(0, 0, 0, 0.8)",padding:"2rem",border:"0.3rem solid black",borderRadius:"1rem",display:"block",justifyContent:"center",alignItems:"center",textAlign:"center"}},n.a.createElement("div",{style:{position:"absolute"},onClick:this.handleClose}),n.a.createElement(A.CirclePicker,{width:195,circleSize:20,circleSpacing:12,color:this.state.graphData.color?this.state.graphData.color:this.state.color,onChangeComplete:this.handleChangeComplete})):null,n.a.createElement(m.a,{icon:v.h,size:"lg",color:"orange",style:{float:"right",height:"1rem",cursor:"pointer"},onClick:this.remove}),n.a.createElement("div",{style:{float:"none",width:"16rem"}},n.a.createElement("input",{className:"panelName",type:"text",name:"graphName",maxLength:"15",placeholder:this.state.graphData.graphName?this.state.graphData.graphName:this.props.defaultName,defaultValue:this.state.graphData.graphName?this.state.graphData.graphName:this.props.defaultName,onChange:this.handleChange})),n.a.createElement("div",{style:{display:"inline-block",width:"16rem"}},n.a.createElement("span",{style:{fontSize:"0.8rem"}},"X : "),n.a.createElement("select",{onChange:this.handleChange,name:"x"},n.a.createElement("option",{value:""},"Select Column"),this.state.data?Object.keys(this.state.data).map((function(e,a){return e?n.a.createElement("option",{className:"headersItem",key:t.state.id+"x"+a,value:e,selected:t.state.graphData.x==e?"selected":""},e):null})):null)),n.a.createElement("div",null,n.a.createElement("span",{style:{fontSize:"0.8rem"}},"Y : "),n.a.createElement("select",{onChange:this.handleChange,name:"y"},n.a.createElement("option",{value:""},"Select Column"),this.state.data?Object.keys(this.state.data).map((function(e,a){return e?n.a.createElement("option",{className:"headersItem",key:t.state.id+"y"+a,value:e,selected:t.state.graphData.y==e?"selected":""},e):null})):null)),n.a.createElement("div",null,n.a.createElement("button",{onClick:this.submit},"Submit"))):null)}}]),a}(r.Component),D=a(12),j=function(t){Object(u.a)(a,t);var e=Object(g.a)(a);function a(t){var r;return Object(h.a)(this,a),(r=e.call(this,t)).state={data:{},nGraphs:{line:[],scatter:[],area:[]},xData:{line:[],scatter:[],area:[]},yData:{line:[],scatter:[],area:[]},dx:[],dy:[],color:{line:[],scatter:[],area:[]},graphName:{line:[],scatter:[],area:[]},graphModes:[],graphMode:"line"},r.handleData=r.handleData.bind(Object(d.a)(r)),r.addGraph=r.addGraph.bind(Object(d.a)(r)),r.getXY=r.getXY.bind(Object(d.a)(r)),r.remove=r.remove.bind(Object(d.a)(r)),r}return Object(p.a)(a,[{key:"componentWillReceiveProps",value:function(t){var e=this;this.setState({graphMode:t.graphMode}),setTimeout((function(){return console.log(e.state.graphMode)}),2e3)}},{key:"handleData",value:function(t){var e=this;this.readFileContent(t.target.files[0]).then((function(t){var a=Object(x.a)(t),r=e.parseCSV(a.data);e.setState((function(t){return{data:Object(c.a)(Object(c.a)({},t.data),r)}}))})).catch((function(t){return console.log(t)}))}},{key:"readFileContent",value:function(t){var e=new FileReader;return new Promise((function(a,r){e.onload=function(t){return a(t.target.result)},e.onerror=function(t){return r(t)},e.readAsText(t)}))}},{key:"parseCSV",value:function(t){var e=t[0],a={};return e.forEach((function(e,r){a[e]=[],t.slice(1,t.length-1).forEach((function(t){a[e].push(t[r])}))})),a}},{key:"addGraph",value:function(){var t=this;console.log(this.state.nGraphs[this.state.graphMode]),0!==Object.keys(this.state.data).length?this.setState((function(e){return{nGraphs:Object(c.a)(Object(c.a)({},e.nGraphs),{},Object(o.a)({},t.state.graphMode,[].concat(Object(l.a)(e.nGraphs[t.state.graphMode]),[{graph:t.state.data,id:"id"+Math.floor(2e4*Math.random()),graphMode:t.state.graphMode,graphData:{},xData:[],yData:[]}])))}})):alert("Please upload a CSV file")}},{key:"getXY",value:function(t,e,a,r,n,s,i,h){var p=this;console.log(t,e,a,r,n,s,i,h),new Promise((function(t,e){t([[].concat(Object(l.a)(p.state.dx),Object(l.a)(r[p.state.graphMode])),[].concat(Object(l.a)(p.state.dy),Object(l.a)(n[p.state.graphMode]))])})).then((function(d){p.props.getXY(t,e,a,r,n,d[0],d[1],s,i,h);var u=p.state.nGraphs;u[p.state.graphMode].forEach((function(i,o){i.id==t[p.state.graphMode]&&(i.xData=r[p.state.graphMode],i.yData=n[p.state.graphMode],i.graphData={id:t[p.state.graphMode],x:e[p.state.graphMode],y:a[p.state.graphMode],color:s[p.state.graphMode],graphName:h[p.state.graphMode]})})),console.log("ng",u),p.setState((function(t){return{nGraphs:u,xData:Object(c.a)(Object(c.a)({},t.xData),{},Object(o.a)({},p.state.graphMode,[].concat(Object(l.a)(t.xData[p.state.graphMode]),[r[p.state.graphMode]]))),yData:Object(c.a)(Object(c.a)({},t.yData),{},Object(o.a)({},p.state.graphMode,[].concat(Object(l.a)(t.yData[p.state.graphMode]),[n[p.state.graphMode]]))),dx:d[0],dy:d[1],color:Object(c.a)(Object(c.a)({},t.color),{},Object(o.a)({},p.state.graphMode,[].concat(Object(l.a)(t.color[p.state.graphMode]),[s[p.state.graphMode]]))),graphModes:[].concat(Object(l.a)(t.graphModes),[i]),graphName:Object(c.a)(Object(c.a)({},t.graphName),{},Object(o.a)({},p.state.graphMode,[].concat(Object(l.a)(t.graphName[p.state.graphMode]),[h[p.state.graphMode]])))}}))})),setTimeout((function(){return console.log("panel",p.state.nGraphs)}),2e3)}},{key:"remove",value:function(t,e,a,r,n,s){var i=this;if(console.log(e,a,r,s),e&&a&&0!=r.length){this.props.remove(t,s);var o=-1,c=[],h=[];this.state.nGraphs[this.state.graphMode].forEach((function(e,a){e.id===t?o=a:i.state.xData[a]&&(c=[].concat(Object(l.a)(c),Object(l.a)(i.state.xData[a])),h=[].concat(Object(l.a)(h),Object(l.a)(i.state.yData[a])))}));var p=this.state.nGraphs,d=this.state.xData,u=this.state.yData,g=this.state.color,m=this.state.graphModes,v=this.state.graphName;p[this.state.graphMode].splice(o,1),d[this.state.graphMode].splice(o,1),u[this.state.graphMode].splice(o,1),g[this.state.graphMode].splice(o,1),m.splice(o,1),v[this.state.graphMode].splice(o,1),this.setState({nGraphs:p,xData:d,yData:u,dx:c,dy:h,color:g,graphModes:m,graphName:v})}else{var f=-1;this.state.nGraphs[this.state.graphMode].forEach((function(e,a){e.id===t&&(f=a)}));var y=this.state.nGraphs;y[this.state.graphMode].splice(f,1),this.setState({nGraphs:y})}}},{key:"render",value:function(){var t=this;return n.a.createElement("div",{className:"panel"},n.a.createElement("div",{className:"upload"},n.a.createElement("input",{type:"file",id:"BtnBrowseHidden",name:"file",accept:".csv",style:{display:"none"},onChange:this.handleData}),n.a.createElement("label",{className:"buttonUpload",for:"BtnBrowseHidden",id:"LblBrowse"},n.a.createElement(m.a,{icon:v.i,size:"lg",style:{paddingRight:"1rem"}}),"Upload File")),n.a.createElement("div",{className:"addGraph",onClick:this.addGraph},n.a.createElement("span",{style:{padding:"1rem"}},"Create graph "),n.a.createElement("div",{style:{padding:"1rem"}},n.a.createElement(m.a,{icon:v.f,size:"2x",color:"orange"}))),n.a.createElement("div",{className:"graphPanel"},this.state.nGraphs[this.state.graphMode].map((function(e,a){return 0!==Object.keys(e).length&&e&&t.state.data?n.a.createElement(O,{key:e.id,getXY:t.getXY,id:e.id,data:t.state.data,remove:t.remove,graphMode:e.graphMode,graphData:e.graphData,xData:e.xData,yData:e.yData,defaultName:t.state.graphMode+(a+1)}):null}))))}}]),a}(r.Component),E=function(t){Object(u.a)(a,t);var e=Object(g.a)(a);function a(t){var r;return Object(h.a)(this,a),(r=e.call(this,t)).state={svg:r.props.svg},r.drawLine=r.drawLine.bind(Object(d.a)(r)),r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.draw()}},{key:"componentDidUpdate",value:function(){this.draw(),console.log("updaing canvas...")}},{key:"draw",value:function(){0==this.props.xDatas.length?this.props.svg.classed("svgNoDisplay",!0):this.props.svg.classed("svgNoDisplay",!1),this.axisUpdate();var t=this.parseData(this.props.xData,this.props.yData);this.drawLine(t.line),this.drawArea(t.area),this.drawScatter(t.scatter),this.drawLegend(t.legend)}},{key:"drawLine",value:function(t){var e=this;console.log(t);var a=D.e().x((function(t){return e.props.xScale(t[0])})).y((function(t){return e.props.yScale(t[1])})),r=this.props.svg.selectAll(".line").data(t).attr("class","line");r.exit().remove(),r.enter().append("path").attr("class","line").attr("id",(function(t,a){return e.props.id.line[a]})).attr("d",a).attr("fill","none").attr("stroke",(function(t,a){return e.props.color.line[a]})).attr("stroke-width","1"),r.transition().duration(500).attr("stroke",(function(t,a){return e.props.color.line[a]})).attr("d",a)}},{key:"drawScatter",value:function(t){var e=this;console.log(t);var a=this.props.svg.selectAll(".scatterGroup").data(t);a.exit().remove();var r=a.enter().append("g").attr("class","scatterGroup").attr("fill",(function(t,a){return e.props.color.scatter[a]})).attr("stroke",(function(t,a){return e.props.color.scatter[a]})),n=a.merge(r).selectAll(".scatterPoint").data((function(t){return t})),s=n.enter().append("circle").attr("class","scatterPoint").attr("r",5);n.merge(s).transition().duration(500).attr("cx",(function(t,a){return e.props.xScale(t[0])})).attr("cy",(function(t,a){return e.props.yScale(t[1])})),a.transition().duration(500).attr("fill",(function(t,a){return e.props.color.scatter[a]})).attr("stroke",(function(t,a){return e.props.color.scatter[a]}))}},{key:"drawArea",value:function(t){var e=this,a=D.a().x((function(t){return e.props.xScale(t[0])})).y0(this.props.height).y1((function(t){return e.props.yScale(t[1])})),r=this.props.svg.selectAll(".area").data(t).attr("class","area");r.exit().remove(),r.enter().append("path").attr("class","area").attr("id",(function(t,a){return e.props.id.area[a]})).attr("d",a).attr("fill",(function(t,a){return e.props.color.area[a]})).attr("stroke",(function(t,a){return e.props.color.area[a]})).attr("stroke-width","1"),r.transition().duration(500).attr("stroke",(function(t,a){return e.props.color.area[a]})).attr("fill",(function(t,a){return e.props.color.area[a]})).attr("d",a)}},{key:"axisUpdate",value:function(){this.props.xScale.domain(D.d(this.props.xDatas));var t=D.b().scale(this.props.xScale);this.props.svg.selectAll(".x.axis").empty()?this.props.g.g1.attr("class","x axis").attr("transform","translate(0,"+this.props.height+")").call(t):this.props.svg.selectAll(".x.axis").transition().duration(500).call(t),this.props.yScale.domain(D.d(this.props.yDatas));var e=D.c().scale(this.props.yScale);this.props.svg.selectAll(".y.axis").empty()?this.props.g.g2.attr("class","y axis").call(e):this.props.svg.selectAll(".y.axis").transition().duration(500).call(e)}},{key:"drawLegend",value:function(t){var e=this,a={draw:function(t,e){var a=Math.sqrt(e)/2;t.moveTo(a,a-Math.sqrt(e)/2),t.lineTo(-a,a-Math.sqrt(e)/2),t.lineTo(-a,a-Math.sqrt(e)/2-1),t.lineTo(a,a-Math.sqrt(e)/2-1),t.closePath()}};this.props.svg.selectAll(".symbol").remove(),this.props.svg.selectAll(".label").remove();D.e().x(this.props.width-60).y((function(t,e){return 20*e+50}));var r=this.props.svg.selectAll(".symbol").data(t);r.exit().remove(),r.enter().append("path").attr("class","symbol").attr("transform",(function(t,a){return"translate("+(e.props.width-60)+","+(20*a+50)+")"})).attr("d",D.h().type((function(t,e){return"line"===t.type?a:"scatter"===t.type?D.i:"area"===t.type?D.j:void 0})).size(100)).style("fill",(function(t){return t.color})),r.transition().duration(100).attr("d",D.h().type((function(t,e){return"line"===t.type?a:"scatter"===t.type?D.i:"area"===t.type?D.j:void 0})).size(100)).style("fill",(function(t){return t.color}));var n=this.props.svg.selectAll(".label").data(t);n.exit().remove();n.enter().append("text").attr("class","label").attr("x",this.props.width-50).attr("y",(function(t,e){return 20*e+55})).text((function(t){return t.name})).style("fill",(function(t){return t.color}));n.transition().duration(100).attr("y",(function(t,e){return 20*e+55})).text((function(t){return t.name})).style("fill",(function(t){return t.color}))}},{key:"parseData",value:function(t,e){var a=this,r=[],n=[],s=[],i=[],o=[];return t.line.forEach((function(t,a){t.forEach((function(t,n){r.push([t,e.line[a][n]])})),n.push(r),r=[]})),t.area.forEach((function(t,a){t.forEach((function(t,n){r.push([t,e.area[a][n]])})),s.push(r),r=[]})),t.scatter.forEach((function(t,a){t.forEach((function(t,n){r.push([t,e.scatter[a][n]])})),i.push(r),r=[]})),["line","scatter","area"].forEach((function(t,e){a.props.graphName[t].forEach((function(e,r){o.push({type:t,name:e,color:a.props.color[t][r]})}))})),console.log(o),{line:n,scatter:i,area:s,legend:o}}},{key:"render",value:function(){return null}}]),a}(r.Component),M=(a(473),a(251)),k=a.n(M),N=function(t){Object(u.a)(a,t);var e=Object(g.a)(a);function a(t){var n;return Object(h.a)(this,a),(n=e.call(this,t)).downloadPng=function(){k()(n.canvasRef.current).then((function(t){var e=t.toDataURL("image/png"),a=document.createElement("a");a.href=e,a.download="chart.png",document.body.appendChild(a),a.click()}))},n.downloadSvg=function(){D.g(n.canvasRef.current).append("a").attr("href-lang","image/svg+xml").attr("href",'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg">'+unescape(D.g(n.canvasRef.current).select("svg").node().parentNode.innerHTML)+"</svg>").text("Download")},n.state={id:null,x:null,y:null,xData:null,yData:null,xDatas:[],yDatas:null,xScale:null,yScale:null,svg:null,xAxis:null,yAxis:null,width:null,height:null,g:null,update:[],color:null,graphModes:null,graphName:null},n.canvasRef=Object(r.createRef)(),n.line=Object(r.createRef)(),n.downloadPng=n.downloadPng.bind(Object(d.a)(n)),n.downloadSvg=n.downloadSvg.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"componentWillReceiveProps",value:function(t){this.setState({id:t.id,x:t.x,y:t.y,xData:t.xData,yData:t.yData,xDatas:t.xDatas,yDatas:t.yDatas,color:t.color,graphModes:t.graphModes,graphName:t.graphName,update:[].concat(Object(l.a)(this.state.update),[Math.random()])})}},{key:"componentDidMount",value:function(){this.drawCanvas()}},{key:"drawCanvas",value:function(){var t=50,e=50,a=50,r=50,n=this.canvasRef.current.clientWidth-r-e,s=this.canvasRef.current.clientHeight-t-a,i=D.g(this.canvasRef.current).append("svg").attr("width",n+r+e).attr("height",s+t+a).append("g").attr("transform","translate("+r+","+t+")"),o=i.append("g"),c=i.append("g"),l=D.f().range([0,n-100]),h=D.f().range([s,0]),p=D.b(l),d=D.c(h);this.setState({xScale:l,yScale:h,svg:i,xAxis:p,yAxis:d,width:n,height:s,g:{g1:o,g2:c}})}},{key:"parseData",value:function(t,e){var a=[],r=[];return t.line.forEach((function(t,r){a.push([t,e.line[r]])})),t.scatter.forEach((function(t,a){r.push([t,e.scatter[a]])})),{line:a,scatter:r}}},{key:"render",value:function(){return n.a.createElement("div",{className:"board"},n.a.createElement("div",{ref:this.canvasRef,className:"canvas",id:"canvas"},this.state.height&&this.state.xData&&this.state.xDatas&&this.state.update?n.a.createElement(E,{ref:this.line,id:this.state.id,svg:this.state.svg,xData:this.state.xData,yData:this.state.yData,xScale:this.state.xScale,yScale:this.state.yScale,xDatas:this.state.xDatas,yDatas:this.state.yDatas,xAxis:this.state.xAxis,yAxis:this.state.yAxis,width:this.state.width,height:this.state.height,g:this.state.g,color:this.state.color,graphModes:this.state.graphModes,graphName:this.state.graphName,update:this.state.update}):null),n.a.createElement("div",null,n.a.createElement("span",{style:{width:"10rem",padding:"2rem",fontSize:"0.8rem"}},"Made by Varun A V"),this.state.height&&this.state.xData&&0!=this.state.xDatas.length&&this.state.update?n.a.createElement("div",{style:{float:"right"}},n.a.createElement("button",{className:"downloadButton",onClick:this.downloadPng},n.a.createElement("span",{style:{paddingRight:"1rem",fontSize:"1.1rem"}},"PNG"),n.a.createElement(m.a,{icon:v.a,size:"3x",color:"black"}))):null))}}]),a}(r.Component),C=function(t){Object(u.a)(a,t);var e=Object(g.a)(a);function a(t){var n;return Object(h.a)(this,a),(n=e.call(this,t)).state={id:{line:[],scatter:[],area:[]},x:{line:[],scatter:[],area:[]},y:{line:[],scatter:[],area:[]},xData:{line:[],scatter:[],area:[]},yData:{line:[],scatter:[],area:[]},xDatas:[],yDatas:[],color:{line:[],scatter:[],area:[]},graphMode:"line",graphModes:[],graphName:{line:[],scatter:[],area:[]}},n.getXY=n.getXY.bind(Object(d.a)(n)),n.boardRef=Object(r.createRef)(),n.removeId=n.removeId.bind(Object(d.a)(n)),n.updateGraphMode=n.updateGraphMode.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"updateGraphMode",value:function(t){this.setState({graphMode:t})}},{key:"getXY",value:function(t,e,a,r,n,s,i,h,p,d){var u=this;console.log(t,e,a,r,n,s,i,h,p,d),new Promise((function(s,i){var o=[],c=[],g=-1,m=u.state.xData,v=u.state.yData,f=u.state.color,y=u.state.graphModes,b=u.state.graphName,x=u.state.x,A=u.state.y;u.state.id[p].includes(t[p])&&(g=u.state.id[p].indexOf(t[p]),m[p][g]=r[p],v[p][g]=n[p],f[p][g]=h[p],y[g]=p,b[p][g]=d[p],x[p][g]=e[p],A[p][g]=a[p],console.log(m),Object.keys(m).forEach((function(t,e){m[t].forEach((function(e,a){o=[].concat(Object(l.a)(o),Object(l.a)(e)),c=[].concat(Object(l.a)(c),Object(l.a)(v[t][a]))}))}))),s([m,v,g,o,c,f,y,b,x,A])})).then((function(g){-1===g[2]?u.setState((function(u){return{id:Object(c.a)(Object(c.a)({},u.id),{},Object(o.a)({},p,[].concat(Object(l.a)(u.id[p]),[t[p]]))),x:Object(c.a)(Object(c.a)({},u.x),{},Object(o.a)({},p,[].concat(Object(l.a)(u.x[p]),[e[p]]))),y:Object(c.a)(Object(c.a)({},u.y),{},Object(o.a)({},p,[].concat(Object(l.a)(u.y[p]),[a[p]]))),xData:Object(c.a)(Object(c.a)({},u.xData),{},Object(o.a)({},p,[].concat(Object(l.a)(u.xData[p]),[r[p]]))),yData:Object(c.a)(Object(c.a)({},u.yData),{},Object(o.a)({},p,[].concat(Object(l.a)(u.yData[p]),[n[p]]))),xDatas:s,yDatas:i,color:Object(c.a)(Object(c.a)({},u.color),{},Object(o.a)({},p,[].concat(Object(l.a)(u.color[p]),[h[p]]))),graphModes:[].concat(Object(l.a)(u.graphModes),[p]),graphName:Object(c.a)(Object(c.a)({},u.graphName),{},Object(o.a)({},p,[].concat(Object(l.a)(u.graphName[p]),[d[p]])))}})):u.setState((function(t){return{id:u.state.id,x:g[8],y:g[9],xData:g[0],yData:g[1],xDatas:g[3],yDatas:g[4],color:g[5],graphModes:g[6],graphName:g[7]}}))}))}},{key:"removeId",value:function(t,e){console.log(t);var a=this.state.id[e].indexOf(t),r=this.state,n=r.x,s=r.y,i=r.xData,o=r.yData,c=r.id,h=r.color,p=r.graphName;n[e].splice(a,1),s[e].splice(a,1),i[e].splice(a,1),o[e].splice(a,1),h[e].splice(a,1),c[e].splice(a,1),p[e].splice(a,1);var d=[],u=[];Object.keys(i).forEach((function(t){i[t].forEach((function(e,a){d=[].concat(Object(l.a)(d),Object(l.a)(e)),u=[].concat(Object(l.a)(u),Object(l.a)(o[t][a]))}))})),this.setState({x:n,y:s,xData:i,yData:o,id:c,xDatas:d,yDatas:u,color:h,graphName:p})}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(b,{updateGraphMode:this.updateGraphMode}),n.a.createElement("div",{className:"main"},"area"==this.state.graphMode||"scatter"==this.state.graphMode||"line"==this.state.graphMode?n.a.createElement(j,{getXY:this.getXY,remove:this.removeId,graphMode:this.state.graphMode}):null,n.a.createElement(N,{ref:this.boardRef,id:this.state.id,x:this.state.x,y:this.state.y,xData:this.state.xData,yData:this.state.yData,xDatas:this.state.xDatas,yDatas:this.state.yDatas,color:this.state.color,graphModes:this.state.graphModes,graphName:this.state.graphName})))}}]),a}(r.Component);a(544);var S=function(){return n.a.createElement("div",null,n.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[289,1,2]]]);
//# sourceMappingURL=main.d0fabad9.chunk.js.map